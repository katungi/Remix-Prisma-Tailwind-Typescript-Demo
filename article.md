# Get started with remix

Remix is an amazing new framework created by the team behind react router.
Remix is a fresh take on the Full-stack web-framework arena.

## Setup

### Setup Remix

To get started, run the following command:

``` bash
npx create-remix@latest
```

To follow along, in the terminal menu prompt that is generated by the command,
choose `Just the basics`, for language choose `Typescript`, and for our server, we will go with `Express Server`.

```bash
IMAGE GOES HHERE  !!!
```

Once that is done, you will have a working remix web app. Let's spin it and see if it works by running:

```bash
npm run dev
```

All done. Now go to your browser and go to `http://localhost:3000/` and you should see something like this:

### Setup Prisma

In this tutorial, we will need to interact with our database. We will use Prisma as our ORM to abstract process for us.

To install prisma, first `cd` into the project folder, and run the following command:

```bash
npm install prisma typescript ts-node @types/node --save-dev
```

This command will install a couple of things. It will install `typescript` into our project, it will install Prisma and finally it will install type definitions for Node.js.

Next step is to install the prisma client and setup our db. To do that, run the following command:

```bash
npm i @prisma/client@latest
```

For ease of use, we will use sqlite as our database. Prisma however allows you to use `Postgres`, `MySQL`, `MongoDB`, `CockroachDB` and other databases.

To setup our db, let's run this quick command to initialize prisma into our project. The command will also set `sqlite` as the default database.

```bash
npx prisma init --datasource-provider sqlite
```

With that, go to the prisma folder, in the `schema.prisma` file and check out the results. We are now good to go!

### Setup Tailwind

To build a beautiful yet simple UI, we will employ tailwind CSS. But hey, feel free to use whichever you want.

To install Tailwind run:

```bash
npm install -D tailwindcss postcss autoprefixer concurrently
```

That command will install a couple of packages used to post-compile tailwind.

Next, we will run the following command to initialize tailwind in the project, create `tailwind` and `postcss` config files.

```bash
npx tailwind init -p
```

In your root folder, you should see 2 files created, `tailwind.config.js` and `postcss.config.js`

Next, Let's add the files to our template files to our tailwind config. Change the lines below:

```js
...
  content: [
    "./app/**/*.{js,ts,jsx,tsx}",
  ],
...
```

Next, we will edit our package.json scripts to compile our tailwind code during the build process.

In your `package.json` edit this:

```json
 "scripts": {
    "build": "npm run build:css && remix build",
    "build:css": "tailwindcss -m -i ./styles/app.css -o app/styles/app.css",
    "dev": "remix build && run-p dev:*",
    "dev:node": "cross-env NODE_ENV=development nodemon ./build/index.js --watch ./build/index.js",
    "dev:remix": "remix watch",
    "dev:css": "tailwindcss -w -i ./styles/app.css -o app/styles/app.css",
    "postinstall": "remix setup node",
    "start": "cross-env NODE_ENV=production node ./build/index.js"
  }
``

Next, add the tailwind directives to your css. Create a css file and add the following. I prefer creating a seperate folder for my css.

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

Finally, import your css file into the root file at `./app/root.jsx`

```jsx
import styles from "./styles/app.css"

export function links() {
  return [{ rel: "stylesheet", href: styles }]
}
```

Now we are all set!

## Modelling Our data

In this demo, we will create a simple website where a user can:

- Add an album using a form
- Click on the album and get a view with all songs in the album.

We therefore need 2 Models with a one to many relationship.

To define our relationships, let's jump into the `schema.prisma` file in the prisma folder!

First, we will create an `Album` model that will have a unique name and id (which auto-increments), an image and an array of `songs`.

```js
model Album {
  id    Int    @id @default(autoincrement())
  name  String @unique
  image String
  songs Song[]
}
```

Next, we will create a `Songs` model that will have an id (which auto-increments), a name, an image url, and an album to which it belongs to.

```js
model Song {
  id      Int      @id @default(autoincrement())
  name   String @unique
  image   String
  albumId Int
  album   Album    @relation(fields: [albumId], references: [id])
}
```

After creating our models we will run to deploy our changes to the db:

```bash
npx prisma migrate dev --name first_migration
```
